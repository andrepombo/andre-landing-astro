---
export interface Props {
  meta: {
    name: string;
    headline: string;
    subhead: string;
    avatar: string;
    heroImage?: string;
    badges: string[];
    cta: { label: string; href: string };
    links?: { github?: string; linkedin?: string; medium?: string; x?: string };
  };
  lang?: 'en' | 'pt';
  toggleUrl?: string;
}
const { meta, lang = 'en', toggleUrl = '#' } = Astro.props as Props;
import SocialIcons from './SocialIcons.tsx';
---

<header class="sticky top-0 z-40 border-b border-slate-200/10 dark:border-slate-800/80 bg-white/70 backdrop-blur supports-[backdrop-filter]:bg-white/60 dark:bg-slate-950/70">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 py-3 flex items-center justify-between">
    <a href="/" class="flex items-center gap-3 group">
      <img src="/favicon.svg" alt="Logo" class="h-8 w-8 rounded-lg shadow-[0_10px_30px_-10px_rgba(99,102,241,.25)] transition-transform duration-150 ease-out group-hover:scale-105 group-hover:brightness-110" />
      <span class="tracking-tight font-bold text-lg sm:text-xl">{meta.name}</span>
    </a>
    <nav class="hidden sm:flex items-center gap-2">
      <a href="#projects" class="px-3 py-2 rounded-md text-sm font-medium text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white">{lang === 'en' ? 'Projects' : 'Projetos'}</a>
      <a href="#articles" class="px-3 py-2 rounded-md text-sm font-medium text-slate-700 hover:text-slate-900 dark:text-slate-300 dark:hover:text-white">{lang === 'en' ? 'Articles' : 'Artigos'}</a>
      <a href="#contact" class="px-4 py-2 rounded-full text-sm font-medium bg-white text-slate-900 shadow-sm border border-slate-200 dark:bg-slate-50 dark:text-slate-900">{lang === 'en' ? 'Contact' : 'Contato'}</a>
    </nav>
    <div class="flex items-center gap-2">
      <span class="hidden sm:block mx-1 h-6 w-px bg-slate-300/70 dark:bg-slate-700/70"></span>
      <div class="flex items-center gap-2 ml-1">
        <SocialIcons client:load github={meta.links?.github} linkedin={meta.links?.linkedin} />
      </div>
      <a
        href={toggleUrl}
        aria-label={lang === 'en' ? 'Switch to Portuguese' : 'Mudar para InglÃªs'}
        class="px-3 py-1.5 rounded-full text-xs bg-slate-900 text-white border border-slate-800/80 dark:bg-slate-800 dark:text-slate-50 dark:border-slate-700 inline-flex items-center gap-1.5"
        data-analytics-event="language_toggle"
        data-analytics-params={JSON.stringify({ from: lang, to: lang === 'en' ? 'pt' : 'en' })}
      >
        {lang === 'en' ? (<>
          <span>PT</span><span>ðŸ‡§ðŸ‡·</span>
        </>) : (<>
          <span>EN</span><span>ðŸ‡¬ðŸ‡§</span>
        </>)}
      </a>
    </div>
  </div>
</header>

<section class="relative overflow-hidden bg-slate-900 text-white">
  <img src={meta.heroImage ?? 'https://images.unsplash.com/photo-1517433456452-f9633a875f6f?q=80&w=1600&auto=format&fit=crop'} alt="" class="absolute inset-y-0 right-0 w-1/2 h-full object-cover object-center hidden md:block z-0" />
  <div class="absolute inset-0 bg-gradient-to-r from-slate-900 via-slate-900/85 to-slate-900/10 backdrop-blur-[2px] z-10 pointer-events-none"></div>
  <div class="relative z-20 max-w-6xl mx-auto px-4 sm:px-6 py-20 sm:py-28 grid md:grid-cols-3 gap-10 items-center">
    <div class="md:col-span-2 space-y-6">
      <h1 class="text-5xl sm:text-6xl font-bold tracking-tight leading-tight text-white max-w-2xl">{meta.headline}</h1>
      <p class="text-white/90 max-w-2xl">{meta.subhead}</p>
      <div class="flex flex-wrap items-center gap-3">
        {meta.badges.map((b) => (
          <span class="px-2.5 py-1 text-xs rounded-md bg-white/10 text-white border border-white/15">{b}</span>
        ))}
      </div>
      
    </div>
    <div class="md:col-span-1"></div>
  </div>
</section>
