---
import Base from '../../layouts/Base.astro';
import Hero from '../../components/Hero.astro';
import Projects from '../../components/Projects.astro';
import Articles from '../../components/Articles.astro';
import Footer from '../../components/Footer.astro';

const lang: 'en' | 'pt' = 'pt';
const toggleUrl = '/';

const meta = {
  name: 'André Pombo',
  headline: 'Desenvolvedor de software criando produtos cuidadosos',
  subhead: 'Desenvolvedor full‑stack do Brasil. Eu projeto, construo e entrego aplicativos em produção de ponta a ponta — da arquitetura de backend e UX de frontend ao CI/CD e à infraestrutura em nuvem.',
  avatar: 'https://images.unsplash.com/photo-1502685104226-ee32379fefbe?q=80&w=600&auto=format&fit=crop',
  badges: ['Python', 'Django', 'React', 'DevOps', 'CI/CD', 'AWS'],
  cta: { label: 'Enviar email', href: 'mailto:hello@example.com' },
  links: { github: 'https://github.com/', x: 'https://x.com/', linkedin: 'https://www.linkedin.com/' }
};

// Temporary: load content by file glob until content collections are wired
const projectFiles = await Astro.glob('../../content/projects/*.mdx');
const articleFiles = await Astro.glob('../../content/articles/*.mdx');
---
<Base title="Developer Portfolio" description="Projects and articles" lang={lang}>
  <Hero meta={meta} lang={lang} toggleUrl={toggleUrl} />
  <Projects items={projectFiles} lang={lang} />
  <Articles items={articleFiles} lang={lang} />
  <section id="contact" class="max-w-6xl mx-auto px-4 sm:px-6 py-12 sm:py-20">
    <div class="rounded-2xl border border-slate-200 dark:border-slate-800 p-6 sm:p-10 bg-gradient-to-br from-[--color-accent-50] to-white dark:from-slate-900 dark:to-slate-950">
      <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between gap-6">
        <div>
          <h2 class="text-2xl font-semibold tracking-tight">Vamos construir algo incrível</h2>
          <p class="text-sm text-slate-600 dark:text-slate-300">Estou aberto a consultoria, colaboração e oportunidades onde eu possa gerar impacto.</p>
        </div>
        <a href={meta.cta.href} class="inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-[--color-accent-600] text-white hover:bg-[--color-accent-500]">{meta.cta.label}</a>
      </div>
    </div>
  </section>
  <Footer links={meta.links} />
</Base>
